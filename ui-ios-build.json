{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"2057371","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/integration"],"pathFilters":["+ui/mobileui"],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"Configuration":{"value":"Release","allowOverride":true},"P12password":{"value":null,"isSecret":true},"scepter.pat":{"value":null,"isSecret":true},"scepter.projectfolder":{"value":""},"scepter.repositoryurl":{"value":""},"scepter.uifolder":{"value":"mobileui"},"SDK":{"value":"iphoneos","allowOverride":true},"system.debug":{"value":"false","allowOverride":true},"TestConfiguration":{"value":"Debug","allowOverride":true},"TestSDK":{"value":"iphonesimulator","allowOverride":true},"scepter.scheme":{"value":""}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"metrics":[{"name":"CurrentBuildsInQueue","scope":"refs/heads/integration","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/integration","intValue":0},{"name":"CanceledBuilds","scope":"refs/heads/integration","intValue":0,"date":"2018-03-29T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/integration","intValue":12,"date":"2018-03-29T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/integration","intValue":0,"date":"2018-03-29T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/integration","intValue":1,"date":"2018-03-29T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/integration","intValue":13,"date":"2018-03-29T00:00:00.000Z"},{"name":"CanceledBuilds","scope":"refs/heads/integration","intValue":2,"date":"2018-03-28T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/integration","intValue":16,"date":"2018-03-28T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/integration","intValue":0,"date":"2018-03-28T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/integration","intValue":0,"date":"2018-03-28T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/integration","intValue":18,"date":"2018-03-28T00:00:00.000Z"}],"_links":{"self":{"href":""},"web":{"href":""},"editor":{"href":""}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Set environment","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"2.*","definitionType":"task"},"inputs":{"script":"NODE_ENV=development","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install SCEPTER command submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"submodule update --init commands/","workingFolder":"","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install SCEPTER Configuration","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"-c http.$(scepter.repositoryurl).extraheader=\"AUTHORIZATION: basic $(scepter.pat)\" submodule update --init config","workingFolder":"","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install MobileUI Submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"-c http.$(scepter.repositoryurl).extraheader=\"AUTHORIZATION: basic $(scepter.pat)\" submodule update --init --recursive ui/$(scepter.uifolder)","workingFolder":"","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Use Yarn 1.x","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ec1147b-5c33-41df-94b5-676758d87c1b","versionSpec":"2.*","definitionType":"task"},"inputs":{"versionSpec":"1.x","checkLatest":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Install","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"","Arguments":"install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn install recursive","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"","Arguments":"yarn-recursive","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Install Mobile UI","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"ui/mobileui","Arguments":"install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Test","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"ui/$(scepter.uifolder)","Arguments":"test","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Test Results junit.xml","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0b0f01ed-7dde-43ff-9cbb-e48954daf9b1","versionSpec":"2.*","definitionType":"task"},"inputs":{"testRunner":"JUnit","testResultsFiles":"junit.xml","searchFolder":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/","mergeTestResults":"false","testRunTitle":"iOS test results","platform":"","configuration":"","publishRunAttachments":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish code coverage from $(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage/cobertura-coverage.xml","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2a7ebc54-c13e-490e-81a5-d7561ab7cd97","versionSpec":"1.*","definitionType":"task"},"inputs":{"codeCoverageTool":"Cobertura","summaryFileLocation":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage/cobertura-coverage.xml","reportDirectory":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage","additionalCodeCoverageFiles":"","failIfCoverageEmpty":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"React Native Prepare ios","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e51a9093-748d-4f10-99ed-483f5372cdaa","versionSpec":"0.*","definitionType":"task"},"inputs":{"platform":"ios","xcodeProject":"ui/$(scepter.uifolder)/ios/$(scepter.projectfolder).xcodeproj/project.pbxproj","reactGradle":"android/app/react.gradle","cwd":"ui/$(scepter.uifolder)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install an Apple certificate","timeoutInMinutes":0,"task":{"id":"d2eff759-736d-4b7b-8554-7ba0960d49d6","versionSpec":"1.*","definitionType":"task"},"inputs":{"certSecureFile":"","certPwd":"$(P12password)","keychain":"temp","keychainPassword":"","customKeychainPath":"","deleteCert":"false","deleteCustomKeychain":"false","signingIdentity":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install an Apple provisioning profile","timeoutInMinutes":0,"refName":"scepter","task":{"id":"0f9f66ca-250e-40fd-9678-309bcd439d5e","versionSpec":"1.*","definitionType":"task"},"inputs":{"provisioningProfileLocation":"secureFiles","provProfileSecureFile":"497d9bed-bb96-453d-b89b-e72d4e829fcb","provProfileSourceRepository":"","removeProfile":"true"}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Xcode test","timeoutInMinutes":0,"task":{"id":"1e78dc1b-9132-4b18-9c75-0e7ecc634b74","versionSpec":"4.*","definitionType":"task"},"inputs":{"actions":"test","configuration":"$(TestConfiguration)","sdk":"$(TestSDK)","xcWorkspacePath":"$(Parameters.xcWorkspacePath)","scheme":"$(Parameters.scheme)","xcodeVersion":"$(Parameters.xcodeVersion)","xcodeDeveloperDir":"$(Parameters.xcodeDeveloperDir)","packageApp":"false","archivePath":"","exportPath":"output/$(SDK)/$(Configuration)","exportOptions":"auto","exportMethod":"development","exportTeamId":"","exportOptionsPlist":"","exportArgs":"","signingOption":"default","signingIdentity":"","provisioningProfileUuid":"","teamId":"","destinationPlatformOption":"iOS","destinationPlatform":"","destinationTypeOption":"simulators","destinationSimulators":"iPhone 7","destinationDevices":"","args":"","cwd":"","outputPattern":"","useXcpretty":"false","publishJUnitResults":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Xcode build","timeoutInMinutes":0,"task":{"id":"1e78dc1b-9132-4b18-9c75-0e7ecc634b74","versionSpec":"4.*","definitionType":"task"},"inputs":{"actions":"build","configuration":"$(Configuration)","sdk":"$(SDK)","xcWorkspacePath":"ui/$(scepter.uifolder)/ios/$(scepter.projectfolder).xcodeproj","scheme":"$(scepter.scheme)","xcodeVersion":"$(Parameters.xcodeVersion)","xcodeDeveloperDir":"$(Parameters.xcodeDeveloperDir)","packageApp":"true","archivePath":"","exportPath":"output/$(SDK)/$(Configuration)","exportOptions":"auto","exportMethod":"development","exportTeamId":"","exportOptionsPlist":"","exportArgs":"","signingOption":"manual","signingIdentity":"$(APPLE_CERTIFICATE_SIGNING_IDENTITY)","provisioningProfileUuid":"$(scepter.provisioningProfileUuid)","teamId":"SMX6J7L6D7","destinationPlatformOption":"default","destinationPlatform":"","destinationTypeOption":"simulators","destinationSimulators":"iPhone 7","destinationDevices":"","args":"","cwd":"","outputPattern":"","useXcpretty":"false","publishJUnitResults":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy Files to: $(build.artifactstagingdirectory)","timeoutInMinutes":0,"task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"$(system.defaultworkingdirectory)/ui/$(scepter.uifolder)/ios","Contents":"**/*.ipa","TargetFolder":"$(build.artifactstagingdirectory)","CleanTargetFolder":"false","OverWrite":"false","flattenFolders":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact: iosStaging","timeoutInMinutes":0,"task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(build.artifactstagingdirectory)","ArtifactName":"iosStaging","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)","Parallel":"false","ParallelCount":"8"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Deploy **/*.ipa to Visual Studio App Center","timeoutInMinutes":0,"task":{"id":"b832bec5-8c27-4fef-9fb8-6bec8524ad8a","versionSpec":"0.*","definitionType":"task"},"inputs":{"serverEndpoint":"cf776092-f274-4fd8-b035-bad72d004313","appSlug":"","app":"**/*.ipa","symbolsType":"Apple","symbolsPath":"","pdbPath":"**/*.pdb","dsymPath":"","mappingTxtPath":"","packParentFolder":"false","releaseNotesSelection":"file","releaseNotesInput":"Integration Testing","releaseNotesFile":"ui/$(scepter.uifolder)/README.md","distributionGroupId":""}}],"name":"Phase 1","refName":"Phase_1","condition":"succeeded()","target":{"queue":{"_links":{"self":{"href":""}},"id":15,"url":"","pool":null},"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":"projectCollection","jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","fetchDepth":"0"},"id":"376d72d9-e43d-4ef8-aee8-02783df43afa","type":"TfsGit","name":"","url":"","defaultBranch":"refs/heads/integration","clean":"false","checkoutSubmodules":false},"processParameters":{"inputs":[{"aliases":[],"options":{},"properties":{},"name":"xcWorkspacePath","label":"Workspace or project path","defaultValue":"ui/$(scepter.uifolder)/$(scepter.projectfolder).xcodeproj","type":"filePath","helpMarkDown":"(Optional) Enter a relative path from the root of the repository to the Xcode workspace or project. For example, `MyApp/MyApp.xcworkspace` or `MyApp/MyApp.xcodeproj`."},{"aliases":[],"options":{},"properties":{},"name":"scheme","label":"Scheme","defaultValue":"$(scepter.scheme)","type":"string","helpMarkDown":"(Optional) Enter a scheme name defined in Xcode. It must be a shared scheme, with its <strong>Shared</strong> checkbox enabled under <strong>Managed Schemes</strong> in Xcode. If you specify a <strong>Workspace or project path</strong> above without specifying a scheme, and the workspace has a single shared scheme, it will be automatically used."},{"aliases":[],"options":{"8":"Xcode 8","9":"Xcode 9","default":"Default","specifyPath":"Specify path"},"properties":{},"name":"xcodeVersion","label":"Xcode version","defaultValue":"default","type":"pickList","helpMarkDown":"Specify the target version of Xcode. Select `Default` to use the default version of Xcode on the agent machine. Selecting a version number (e.g. `Xcode 9`) relies on environment variables being set on the agent machine for the version's location (e.g. `XCODE_9_DEVELOPER_DIR=/Applications/Xcode_9.0.0.app/Contents/Developer`). Select `Specify path` to provide a specific path to the Xcode developer directory."},{"aliases":[],"options":{},"properties":{},"name":"xcodeDeveloperDir","label":"Xcode developer path","defaultValue":"","type":"string","helpMarkDown":"(Optional) Enter a path to a specific Xcode developer directory (e.g. `/Applications/Xcode_9.0.0.app/Contents/Developer`). This is useful when multiple versions of Xcode are installed on the agent machine.","visibleRule":"xcodeVersion == specifyPath"}]},"quality":1,"authoredBy":{"displayName":"","url":"","_links":{"avatar":{"href":""}},"id":"e8e8c512-e0ac-4189-927d-7c0b5728d4ed","uniqueName":"","imageUrl":"","descriptor":"msa.MWQ2OGJlM2MtYzgxOS03ZmYzLWIwMmEtNGFjMzk2Y2NiMjMy"},"drafts":[],"queue":{"_links":{"self":{"href":""}},"id":15,"name":"Hosted macOS Preview","url":"","pool":{"id":5,"name":"Hosted macOS Preview","isHosted":true}},"id":6,"name":"SCEPTER MobileUI iOS Build - Integration","url":"","uri":"vstfs:///Build/Definition/6","path":"\\","type":2,"queueStatus":0,"revision":35,"createdDate":"2018-03-29T08:58:30.037Z","project":{"id":"dc8725b1-4c10-4173-839e-58c85a23a9ad","name":"","description":"","url":"","state":"wellFormed","revision":38,"visibility":0}}