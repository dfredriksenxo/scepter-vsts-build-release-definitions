{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"2048678","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/$(scepter.branch)"],"pathFilters":["+ui/$(scepter.uifolder)"],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"build.pat":{"value":null,"isSecret":true},"system.debug":{"value":"false","allowOverride":true}},"demands":["npm","yarn"],"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"metrics":[{"name":"CurrentBuildsInQueue","scope":"refs/heads/$(scepter.branch)","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/$(scepter.branch)","intValue":0},{"name":"CanceledBuilds","scope":"refs/heads/$(scepter.branch)","intValue":0,"date":"2018-03-17T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/$(scepter.branch)","intValue":6,"date":"2018-03-17T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/$(scepter.branch)","intValue":0,"date":"2018-03-17T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/$(scepter.branch)","intValue":1,"date":"2018-03-17T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/$(scepter.branch)","intValue":7,"date":"2018-03-17T00:00:00.000Z"},{"name":"CanceledBuilds","scope":"refs/heads/$(scepter.branch)","intValue":0,"date":"2018-03-16T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/$(scepter.branch)","intValue":4,"date":"2018-03-16T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/$(scepter.branch)","intValue":0,"date":"2018-03-16T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/$(scepter.branch)","intValue":0,"date":"2018-03-16T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/$(scepter.branch)","intValue":4,"date":"2018-03-16T00:00:00.000Z"}],"_links":{"self":{"href":""},"web":{"href":""},"editor":{"href":""}},"jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install command submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"submodule update --init commands/","workingFolder":"$(Parameters.workingFolder)","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Pull down application credentials and configurations","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"-c http.$(scepter.repositoryurl).extraheader=\"AUTHORIZATION: basic $(scepter.pat)\" submodule update --init config","workingFolder":"$(Parameters.workingFolder)","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install web user interface submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"-c http.$(scepter.repositoryurl).extraheader=\"AUTHORIZATION: basic $(scepter.pat)\" submodule update --init --recursive ui/$(scepter.uifolder)","workingFolder":"$(Parameters.workingFolder)","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Use Yarn 1.3.x","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ec1147b-5c33-41df-94b5-676758d87c1b","versionSpec":"2.*","definitionType":"task"},"inputs":{"versionSpec":"1.3.x","checkLatest":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Install","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ProjectDirectory)","Arguments":"install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Recursive","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ServiceCommandDirectory)","Arguments":"yarn-recursive --cmd install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn install $(scepter.uifolder)","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"ui/$(scepter.uifolder)","Arguments":"install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Run ESLINT and Tests","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"ui/$(scepter.uifolder)","Arguments":"test","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Test Results","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0b0f01ed-7dde-43ff-9cbb-e48954daf9b1","versionSpec":"2.*","definitionType":"task"},"inputs":{"testRunner":"JUnit","testResultsFiles":"ui/$(scepter.uifolder)/junit.xml","searchFolder":"$(System.DefaultWorkingDirectory)","mergeTestResults":"false","testRunTitle":"Jest Test Results","platform":"","configuration":"","publishRunAttachments":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Code Coverage Results","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2a7ebc54-c13e-490e-81a5-d7561ab7cd97","versionSpec":"1.*","definitionType":"task"},"inputs":{"codeCoverageTool":"Cobertura","summaryFileLocation":"$(Parameters.summaryFileLocation)","reportDirectory":"$(Parameters.reportDirectory)","additionalCodeCoverageFiles":"","failIfCoverageEmpty":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Scepter Configure Cloud Credentials","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ProjectDirectory)","Arguments":"scepter cloud:configure $(scepter.environment) aws","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Scepter UI Deploy S3","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ProjectDirectory)","Arguments":"scepter ui:deployWebS3 $(scepter.uifolder) $(scepter.environment) tritech-$(scepter.environment)","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact: $(scepter.uifolder)","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"ui/$(scepter.uifolder)/build","ArtifactName":"$(scepter.uifolder)","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)","Parallel":"false","ParallelCount":"8"}}],"name":"SCEPTER UI Build & Deploy","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":"projectCollection","jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"true","fetchDepth":"0"},"id":"0faf243f-3a53-49af-8de6-449aea9441df","type":"TfsGit","name":"Tritech","url":"$(scepter.repositoryurl)/_git/Tritech","defaultBranch":"refs/heads/$(scepter.branch)","clean":"false","checkoutSubmodules":false},"processParameters":{"inputs":[{"aliases":[],"options":{},"properties":{},"name":"ProjectDirectory","label":"Project Directory","defaultValue":"","type":"filePath","helpMarkDown":"Source directory","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"ServiceCommandDirectory","label":"Project Directory","defaultValue":"","type":"filePath","helpMarkDown":"Source directory","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"reportDirectory","label":"Report Directory","defaultValue":"","type":"string","helpMarkDown":"Path of the code coverage HTML report directory. The report directory is published for later viewing as an artifact of the build. The value may contain minimatch patterns. For example: `$(System.DefaultWorkingDirectory)/MyApp/**/site/cobertura`","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"summaryFileLocation","label":"Summary File","defaultValue":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage/cobertura-coverage.xml","required":true,"type":"string","helpMarkDown":"Path of the summary file containing code coverage statistics, such as line, method, and class coverage. The value may contain minimatch patterns. For example: `$(System.DefaultWorkingDirectory)/MyApp/**/site/cobertura/coverage.xml`","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"workingFolder","label":"Working folder","defaultValue":"","type":"filePath","helpMarkDown":"","visibleRule":"","groupName":""}]},"quality":1,"authoredBy":{"displayName":"","url":"","id":"698bcdbd-32f0-6b15-98f9-a225edcbcfaf","uniqueName":"dfredriksen@cyint.technology","imageUrl":"$(scepter.repositoryurl)/_api/_common/identityImage?id=698bcdbd-32f0-6b15-98f9-a225edcbcfaf","descriptor":"aad.Njk4YmNkYmQtMzJmMC03YjE1LTk4ZjktYTIyNWVkY2JjZmFm"},"drafts":[],"queue":{"_links":{"self":{"href":""}},"id":65,"name":"Hosted Linux Preview","url":"","pool":{"id":3,"name":"Hosted Linux Preview","isHosted":true}},"id":4,"name":"SCEPTER - UI Deployment to S3 - $(scepter.branch)","url":"$(scepter.repositoryurl)/ac71e944-ec0a-47d3-a471-081de141c8ce/_apis/build/Definitions/4?revision=12","uri":"vstfs:///Build/Definition/4","path":"\\","type":2,"queueStatus":0,"revision":12,"createdDate":"2018-03-17T01:14:46.647Z","project":{"id":"ac71e944-ec0a-47d3-a471-081de141c8ce","name":"","description":"","url":"$(scepter.repositoryurl)","state":"wellFormed","revision":292,"visibility":0}}