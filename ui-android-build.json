{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"2057371","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/integration"],"pathFilters":[""],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"scepter.keyencryptpass":{"value":null,"isSecret":true},"scepter.keypass":{"value":null,"isSecret":true},"scepter.keystorefile":{"value":""},"scepter.pat":{"value":null,"isSecret":true},"scepter.repositoryurl":{"value":""},"scepter.uifolder":{"value":"mobileui"},"system.debug":{"value":"false","allowOverride":true},"scepter.keystorepass":{"value":""}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"metrics":[{"name":"CurrentBuildsInQueue","scope":"refs/heads/integration","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/integration","intValue":0},{"name":"CanceledBuilds","scope":"refs/heads/integration","intValue":0,"date":"2018-03-28T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/integration","intValue":29,"date":"2018-03-28T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/integration","intValue":0,"date":"2018-03-28T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/integration","intValue":3,"date":"2018-03-28T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/integration","intValue":32,"date":"2018-03-28T00:00:00.000Z"}],"_links":{"self":{"href":""},"web":{"href":""},"editor":{"href":""},"badge":{"href":""}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"badgeEnabled":true,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Set environment","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"2.*","definitionType":"task"},"inputs":{"script":"set NODE_ENV=development","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Test environment variable","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"2.*","definitionType":"task"},"inputs":{"script":"echo %NODE_ENV%","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install Command Submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"submodule update --init --recursive commands/","workingFolder":"","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install Configuration Submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"-c http.$(scepter.repositoryurl).extraheader=\"AUTHORIZATION: basic $(scepter.pat)\" submodule update --init config","workingFolder":"","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install Mobile UI Submodules","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"1.*","definitionType":"task"},"inputs":{"filename":"git","arguments":"-c http.$(scepter.repositoryurl).extraheader=\"AUTHORIZATION: basic $(scepter.pat)\" submodule update --init --recursive ui/$(scepter.uifolder)","workingFolder":"","failOnStandardError":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Use Yarn 1.x","timeoutInMinutes":0,"condition":"succeeded()","refName":"","task":{"id":"2ec1147b-5c33-41df-94b5-676758d87c1b","versionSpec":"2.*","definitionType":"task"},"inputs":{"versionSpec":"1.x","checkLatest":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn install","timeoutInMinutes":0,"condition":"succeeded()","refName":"","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"$(Parameters.ProjectDirectory)","Arguments":"install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn-Recursive","timeoutInMinutes":0,"condition":"succeeded()","refName":"","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"","Arguments":"yarn-recursive","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Yarn Install MobileUI Dependencies","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"ui/$(scepter.uifolder)","Arguments":"install","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Run Tests","timeoutInMinutes":0,"condition":"succeeded()","refName":"","task":{"id":"0888c9a9-d1b2-4567-aae2-beadcb2059b3","versionSpec":"2.*","definitionType":"task"},"inputs":{"ProjectDirectory":"ui/$(scepter.uifolder)","Arguments":"test","ProductionMode":"false","customRegistry":"useNpmrc","customFeed":"","customEndpoint":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Test Result","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"0b0f01ed-7dde-43ff-9cbb-e48954daf9b1","versionSpec":"2.*","definitionType":"task"},"inputs":{"testRunner":"JUnit","testResultsFiles":"junit.xml","searchFolder":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)","mergeTestResults":"false","testRunTitle":"Android Development Build Results","platform":"","configuration":"","publishRunAttachments":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish code coverage from $(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage/cobertura-coverage.xml","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2a7ebc54-c13e-490e-81a5-d7561ab7cd97","versionSpec":"1.*","definitionType":"task"},"inputs":{"codeCoverageTool":"Cobertura","summaryFileLocation":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage/cobertura-coverage.xml","reportDirectory":"$(System.DefaultWorkingDirectory)/ui/$(scepter.uifolder)/coverage","additionalCodeCoverageFiles":"","failIfCoverageEmpty":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"React Native Prepare android","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e51a9093-748d-4f10-99ed-483f5372cdaa","versionSpec":"0.*","definitionType":"task"},"inputs":{"platform":"android","xcodeProject":"ios/*.xcodeproj/project.pbxproj","reactGradle":"ui/$(scepter.uifolder)/node_modules/react-native/react.gradle\"","cwd":"ui/$(scepter.uifolder)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"gradlew assembleRelease","timeoutInMinutes":0,"refName":"","task":{"id":"8d8eebd8-2b94-4c97-85af-839254cc6da4","versionSpec":"1.*","definitionType":"task"},"inputs":{"wrapperScript":"ui/$(scepter.uifolder)/android/gradlew.bat","options":"","tasks":"assembleRelease","cwd":"ui/$(scepter.uifolder)/android/","publishJUnitResults":"false","testResultsFiles":"ui/$(scepter.uifolder)/junit.xml","testRunTitle":"Android MobileUI Test Results","codeCoverageTool":"None","classFilesDirectories":"build/classes/main/","classFilter":"","failIfCoverageEmpty":"true","javaHomeSelection":"JDKVersion","jdkVersion":"default","jdkUserInputPath":"","jdkArchitecture":"x64","gradleOpts":"-Xmx1024m","sqAnalysisEnabled":"false","sqConnectedServiceName":"","sqProjectName":"","sqProjectKey":"","sqProjectVersion":"","sqGradlePluginVersion":"2.0.1","sqDbDetailsRequired":"false","sqDbUrl":"","sqDbUsername":"","sqDbPassword":"","sqAnalysisIncludeFullReport":"true","sqAnalysisBreakBuildIfQualityGateFailed":"false","checkstyleAnalysisEnabled":"false","findbugsAnalysisEnabled":"false","pmdAnalysisEnabled":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Decrypt ui/$(scepter.uifolder)/android/keystores/$(scepter.keystorefile).enc","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"7c6a6b71-4355-4afc-a274-480eab5678e9","versionSpec":"1.*","definitionType":"task"},"inputs":{"cipher":"des3","inFile":"ui/$(scepter.uifolder)/android/keystores/$(scepter.keystorefile).enc","passphrase":"$(scepter.keyencryptpass)","outFile":"ui/$(scepter.uifolder)/android/keystores/$(scepter.keystorefile)","cwd":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Signing and aligning APK file(s) ui/$(scepter.uifolder)/android/app/build/outputs/apk/*.apk","timeoutInMinutes":0,"refName":"","task":{"id":"80f3f6a0-82a6-4a22-ba7a-e5b8c541b9b9","versionSpec":"1.*","definitionType":"task"},"inputs":{"files":"ui/$(scepter.uifolder)/android/app/build/outputs/apk/*.apk","jarsign":"true","keystoreFile":"ui/$(scepter.uifolder)/android/keystores/$(scepter.keystorefile)","keystorePass":"$(scepter.keystorepass)","keystoreAlias":"","keyPass":"$(scepter.keypass)","jarsignerArguments":"-verbose -sigalg MD5withRSA -digestalg SHA1","zipalign":"false","zipalignLocation":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy Files to: $(build.artifactstagingdirectory)","timeoutInMinutes":0,"refName":"","task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"$(system.defaultworkingdirectory)","Contents":"ui/$(scepter.uifolder)/android/app/build/outputs/apk/*.apk","TargetFolder":"$(build.artifactstagingdirectory)","CleanTargetFolder":"false","OverWrite":"false","flattenFolders":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"","timeoutInMinutes":0,"refName":"","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(build.artifactstagingdirectory)","ArtifactName":"","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)","Parallel":"false","ParallelCount":"8"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Deploy ui/$(scepter.uifolder)/android/app/build/outputs/apk/*.apk to Visual Studio App Center","timeoutInMinutes":0,"refName":"","task":{"id":"b832bec5-8c27-4fef-9fb8-6bec8524ad8a","versionSpec":"0.*","definitionType":"task"},"inputs":{"serverEndpoint":"cf776092-f274-4fd8-b035-bad72d004313","appSlug":"","app":"ui/$(scepter.uifolder)/android/app/build/outputs/apk/*.apk","symbolsType":"Apple","symbolsPath":"","pdbPath":"**/*.pdb","dsymPath":"","mappingTxtPath":"","packParentFolder":"false","releaseNotesSelection":"input","releaseNotesInput":"Staging Build","releaseNotesFile":"ui/$(scepter.uifolder)/release.txt","distributionGroupId":""}}],"name":"Android Package Build","refName":"Phase_1","condition":"succeeded()","target":{"demands":["AndroidSDK"],"queue":{"_links":{"self":{"href":""}},"id":14,"url":"","pool":null},"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":"projectCollection","jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"true","fetchDepth":"0"},"id":"376d72d9-e43d-4ef8-aee8-02783df43afa","type":"TfsGit","name":"","url":"","defaultBranch":"refs/heads/integration","clean":"false","checkoutSubmodules":false},"processParameters":{"inputs":[{"aliases":[],"options":{},"properties":{},"name":"ProjectDirectory","label":"Project Directory","defaultValue":"","type":"filePath","helpMarkDown":"Source directory","visibleRule":"","groupName":""}]},"quality":1,"authoredBy":{"displayName":"Daniel Fredriksen","url":"","_links":{"avatar":{"href":""}},"id":"e8e8c512-e0ac-4189-927d-7c0b5728d4ed","uniqueName":"","imageUrl":"","descriptor":"msa.MWQ2OGJlM2MtYzgxOS03ZmYzLWIwMmEtNGFjMzk2Y2NiMjMy"},"drafts":[],"queue":{"_links":{"self":{"href":""}},"id":13,"name":"Hosted Linux Preview","url":"","pool":{"id":3,"name":"Hosted Linux Preview","isHosted":true}},"id":2,"name":"","url":"","uri":"vstfs:///Build/Definition/2","path":"\\","type":2,"queueStatus":0,"revision":50,"createdDate":"2018-03-28T18:24:21.973Z","project":{"id":"","name":"","description":"","url":"","state":"wellFormed","revision":38,"visibility":0}}